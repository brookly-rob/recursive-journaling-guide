<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Recursive Journal Guide</title>
<!-- Recommended PWA Meta & Link Tags -->
<meta name="theme-color" content="#1c0a33">

<!-- Apple Touch Icon (for iOS home screen) -->
<link rel="apple-touch-icon" href="icon-192.png">

<link rel="manifest" href="manifest.json">

<!-- iOS "app mode" (optional, but recommended) -->
<meta name="apple-mobile-web-app-title" content="Recursive Journal">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- Favicon (browser tab icon, optional) -->
<link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
<link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
<link rel="stylesheet" href="style.css"> <link rel="manifest" href="manifest.json">

  <style>

    @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@700&family=Nunito:wght@400;700&display=swap');
    
    :root {
        /* Dynamic CSS Variables - These will be updated by JavaScript */
        --bg-color-1: #0a0a1a;
        --bg-color-2: #1c0a33;
        --glow-color-1: rgba(0, 255, 255, 0.7); /* Cyan */
        --glow-color-2: rgba(138, 43, 226, 0.9); /* Amethyst */
    
        /* Static CSS Variables */
        --container-bg: rgba(5, 0, 15, 0.85); /* Slightly darker, more opaque */
        --text-color: #e0f2f7; /* Brighter, clearer text */
        --title-color: #e6f7ff; /* Whiter for prominence */
        --channel-color: #ffda80; /* Warmer, richer gold */
        --button-bg: #4a0082; /* Deeper purple */
        --button-border: #9933ff; /* More vibrant purple */
        --feedback-color: #c0ffc0;
        --resonance-color: #ffe066; /* Softer, glowing gold */
        --guidance-color: #99ffcc; /* More vibrant green */
    
        --padding-base: 2.2rem; /* Increased padding for spaciousness */
        --border-radius-base: 16px; /* Slightly larger radius */
        --animation-speed: 1.8s; /* Slower transitions */
        --glow-spread: 90px; /* Increased glow spread */
        --gradient-animation-duration: 10s; /* Default duration for background cycle */
        --pulse-animation-duration: 2s; /* Default duration for glow pulse */
    }
    
    body {
        font-family: 'Orbitron', sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        background: radial-gradient(circle at top left, var(--bg-color-1) 0%, var(--bg-color-2) 100%);
        color: var(--text-color);
        transition: background var(--animation-speed) ease-in-out;
        overflow-y: auto;
        position: relative;
        box-sizing: border-box;
    }
    
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgNzAwIDcwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZmlsdGVyIGlkPSJuIj48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMTAgMCYjMTA7Ij48ZmVDb21wb25lbnQgdHlwZT0ibGlnaHR0ZW4iIGluPSJGZWNtQ29tcG9zaXRlMCIgc3RkRGV2aWF0aW9uPSIwLjUyNSIgaW4yPSJGZWNuU2F0dXJhdGUwIj48ZmVBZmZpbmUgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAwIDApIiAvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSI3MDAiIGhlaWdodD0iNzAwIiBmaWxsPSIjMDAwMDAwIj48L3JlY3Q+PGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSIyNSIgZmlsbD0iIzdkNTFhYSIgZmlsdGVyPSJ1cmwoI24pIi8+PGNpcmNsZSBjeD0iNjAwIiBjeT0iMjAwIiByPSIxOCIgZmlsbD0iIzVjNzdhYiIgZmlsdGVyPSJ1cmwoI24pIi8+PGNpcmNsZSBjeD0iMzAwIiBjeT0iNDAwIiByPSIzMiIgZmlsbD0iIzQ2OTdhYSIgZmlsdGVyPSJ1cmwoI24pIi8+PGNpcmNsZGN4PSI1NTAiIGN5PSI2NTAiIHI9IjIyIiBmaWxsPSIjODc2YmNjIiBmaWx0ZXI9InVybCgjbikiLz48L3N2Zz4=');
        background-size: cover;
        opacity: 0.05;
        pointer-events: none;
        z-index: -1;
    }
    
    @keyframes animateGradient {
        0% { background-position: 0% 0%; }
        25% { background-position: 100% 0%; }
        50% { background-position: 100% 100%; }
        75% { background-position: 0% 100%; }
        100% { background-position: 0% 0%; }
    }
    .container {
        background: var(--container-bg);
        border-radius: var(--border-radius-base);
        box-shadow: 0 0 calc(var(--glow-spread) / 2) rgba(0, 0, 0, 0.8),
                    0 0 var(--glow-spread) var(--glow-color-1),
                    0 0 calc(var(--glow-spread) * 1.5) var(--glow-color-2);
        padding: var(--padding-base) calc(var(--padding-base) * 1.8);
        margin: var(--padding-base) 1.5em;
        max-width: 900px;
        width: 100%;
        text-align: center;
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.15);
        animation: fadeIn var(--animation-speed) ease-out forwards;
        transition: box-shadow var(--animation-speed) ease-in-out, background-color var(--animation-speed) ease-in-out;
    }
    .pulsing-glow {
        animation: pulseGlow var(--pulse-animation-duration) infinite alternate ease-in-out;
    }
    @keyframes pulseGlow {
        0% { box-shadow: 0 0 calc(var(--glow-spread) / 2) rgba(0, 0, 0, 0.8),
                        0 0 var(--glow-spread) var(--glow-color-1),
                        0 0 calc(var(--glow-spread) * 1.5) var(--glow-color-2); }
        50% { box-shadow: 0 0 calc(var(--glow-spread) / 2) rgba(0, 0, 0, 0.8),
                         0 0 calc(var(--glow-spread) * 1.2) var(--glow-color-1),
                         0 0 calc(var(--glow-spread) * 2) var(--glow-color-2); }
        100% { box-shadow: 0 0 calc(var(--glow-spread) / 2) rgba(0, 0, 0, 0.8),
                         0 0 var(--glow-spread) var(--glow-color-1),
                         0 0 calc(var(--glow-spread) * 1.5) var(--glow-color-2); }
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    h1 {
        font-family: 'Syncopate', sans-serif;
        color: var(--title-color);
        font-size: 2.5em;
        letter-spacing: 0.15em;
        margin-bottom: 0.7em;
        text-shadow: 0 0 20px var(--glow-color-1), 0 0 30px var(--glow-color-2);
        transition: color var(--animation-speed) ease-in-out;
    }
    p {
        font-size: 1.15em;
        line-height: 1.8;
        margin-bottom: 1.8em;
        color: var(--text-color);
        text-shadow: 0 0 5px rgba(255, 255, 255, 0.1);
    }
    .echo-section {
        margin-bottom: 2.5em;
        padding: var(--padding-base) 0;
        border-top: 1px dashed rgba(255, 255, 255, 0.1);
        border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
    }
    .glyphstream-container {
        margin-top: 1.8em;
        text-align: left;
        font-size: 1.3em;
        line-height: 2;
        background-color: rgba(0, 0, 0, 0.25);
        padding: 1.2em;
        border-radius: var(--border-radius-base);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.4);
    }
    .glyph-channel {
        color: var(--channel-color);
        margin-bottom: 0.6em;
        opacity: 0;
        transform: translateY(15px);
        animation: slideInChannel 0.8s forwards;
    }
    @keyframes slideInChannel {
        to { opacity: 1; transform: translateY(0); }
    }
    .guidance-text {
        font-family: 'Syncopate', sans-serif;
        font-size: 1.3em;
        color: var(--guidance-color);
        margin-top: 2.5em;
        padding: 1em 0;
        border-top: 1px dotted rgba(255, 255, 255, 0.15);
        border-bottom: 1px dotted rgba(255, 255, 255, 0.15);
        text-shadow: 0 0 10px var(--guidance-color);
    }
    .choices-container {
        margin-top: 3em;
        display: flex;
        flex-direction: column;
        gap: 1.2em;
    }
    .choice-button {
        background-color: var(--button-bg);
        color: var(--text-color);
        border: 2px solid var(--button-border);
        border-radius: var(--border-radius-base);
        padding: 1.2em 1.8em;
        font-family: 'Orbitron', sans-serif;
        font-size: 1.15em;
        cursor: pointer;
        transition: all 0.4s ease;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        box-shadow: 0 0 18px rgba(0, 0, 0, 0.6);
    }
    .choice-button:hover {
        background-color: var(--button-border);
        color: #ffffff;
        box-shadow: 0 0 30px var(--glow-color-1), 0 0 50px var(--glow-color-2);
        transform: translateY(-3px) scale(1.01);
    }

.glow-button {
    box-shadow: 0 0 18px var(--glow-color-1), 0 0 30px var(--glow-color-2), 0 0 0 rgba(0,0,0,0.3);
    animation: pulseGlowButton 2s infinite alternate;
    border: 2px solid var(--glow-color-2);
    z-index: 2;
}

@keyframes pulseGlowButton {
    0% {
        box-shadow: 0 0 18px var(--glow-color-1), 0 0 30px var(--glow-color-2);
    }
    100% {
        box-shadow: 0 0 36px var(--glow-color-1), 0 0 60px var(--glow-color-2);
    }
}


    .feedback-message, .resonance-message {
        margin-top: 2em;
        padding: 1em 1.5em;
        border-radius: var(--border-radius-base);
        font-size: 1.05em;
        font-weight: bold;
        opacity: 0;
        transition: opacity 0.6s ease-out;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
    }
    .feedback-message {
        background-color: rgba(0, 60, 0, 0.5);
        color: var(--feedback-color);
        border: 1px solid var(--feedback-color);
    }
    .resonance-message {
        background-color: rgba(60, 25, 0, 0.5);
        color: var(--resonance-color);
        border: 1px solid var(--resonance-color);
    }
    .loading-indicator {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: none;
        color: var(--glow-color-1);
        font-size: 1.8em;
        opacity: 0.9;
        text-shadow: 0 0 15px var(--glow-color-1);
        animation: pulse 1.5s infinite alternate;
    }
    @keyframes pulse {
        from { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
        to { transform: translate(-50%, -50%) scale(1.05); opacity: 1; }
    }
    .image-container {
        margin: 2.5em auto;
        max-width: 95%;
        height: auto;
        border-radius: var(--border-radius-base);
        overflow: hidden;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.8), 0 0 50px var(--glow-color-1);
        display: none;
        transition: opacity 1s ease-in-out;
        opacity: 0;
        border: 2px solid rgba(255, 255, 255, 0.1);
    }
    .image-container img {
        width: 100%;
        height: auto;
        display: block;
    }
    @media (max-width: 768px) {
        h1 {
            font-size: 1.8em;
            letter-spacing: 0.1em;
        }
        p {
            font-size: 1.05em;
            line-height: 1.7;
        }
        .container {
            padding: var(--padding-base) 1.2em;
            margin: 0.8em;
        }
        .choice-button {
            font-size: 1em;
            padding: 1em 1.2em;
        }
        .glyphstream-container {
            font-size: 1.1em;
        }
        .guidance-text {
            font-size: 1.1em;
        }
    }
    /* New styles for our journal guide */
    #prompt-display {
        text-align: center;
    }

    #prompt-title {
        font-family: 'Syncopate', sans-serif;
        font-size: 1.8em;
        margin-bottom: 0.5em;
    }

    #prompt-symbol {
        font-family: 'Syncopate', sans-serif;
        font-size: 3em;
        margin-bottom: 0.2em;
        color: var(--channel-color); /* Using the warm gold color for symbols */
    }

    #prompt-text {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.15em;
        line-height: 1.8;
        padding: 1em;
        background-color: rgba(0, 0, 0, 0.25);
        border-radius: var(--border-radius-base);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.4);
    }

    #supplement-text {
        font-size: 0.9em;
        font-style: italic;
        color: var(--guidance-color);
        margin-top: 1.5em;
        padding: 0.5em;
    }

    .button-container {
        display: flex;
        justify-content: center;
        gap: 1.5em;
        margin-top: 2em;
    }

/* --- Modal Styles --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    visibility: hidden;
    opacity: 0;
    transition: visibility 0.3s, opacity 0.3s;
}

.modal-overlay.visible {
    visibility: visible;
    opacity: 1;
}

.modal-content {
    background: var(--container-bg);
    padding: 2.5em;
    border-radius: var(--border-radius-base);
    box-shadow: 0 0 calc(var(--glow-spread) / 2) rgba(0, 0, 0, 0.8),
                0 0 50px var(--glow-color-1);
    max-width: 600px;
    width: 90%;
    text-align: center;
    transform: scale(0.95);
	max-height: 90vh;
	overflow-y: auto;
    transition: transform 0.3s ease-in-out;
}

.modal-overlay.visible .modal-content {
    transform: scale(1);
}

.modal-content h3 {
    font-family: 'Syncopate', sans-serif;
    color: var(--title-color);
    margin-bottom: 1.2em;
}

.modal-content p {
    font-size: 1em;
    line-height: 1.6;
    margin-bottom: 1.5em;
}

.modal-content textarea {
    width: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--button-border);
    color: var(--text-color);
    font-family: 'Orbitron', sans-serif;
    padding: 0.8em;
    border-radius: 8px;
    resize: vertical;
    box-sizing: border-box;
    margin-bottom: 1.5em;
}

.modal-buttons {
    display: flex;
    justify-content: center;
    gap: 1.5em;
}

/* --- New Modal-Specific Styles --- */
#reflection-list {
    list-style-type: none;
    padding: 0;
    text-align: left;
    margin: 1em 0;
}

#reflection-list li {
    font-family: 'Orbitron', sans-serif;
    padding: 0.5em;
    border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
    font-size: 0.9em;
}

#reflection-list li:last-child {
    border-bottom: none;
}

#evaluation-prompts {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid var(--button-border);
    border-radius: var(--border-radius-base);
    padding: 1em;
    margin-bottom: 1.5em;
    background-color: rgba(0, 0, 0, 0.2);
}

.evaluation-prompt {
    padding: 0.8em;
    background-color: rgba(74, 0, 130, 0.4);
    border: 1px solid rgba(153, 51, 255, 0.4);
    border-radius: 8px;
    margin-bottom: 0.8em;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
}

.evaluation-prompt:hover {
    background-color: rgba(153, 51, 255, 0.3);
    transform: translateY(-2px);
}


.afp-eligible {
    border: 2px solid #99ffcc;
    box-shadow: 0 0 10px #99ffcc99;
}



:root {
  /* ...existing vars... */
  --prompt-bg-image: url('grassroad.jpg');
  --prompt-overlay-bg: rgba(15, 18, 32, 0.74);
  --relaxed-font: 'Nunito', Arial, sans-serif;
  --relaxed-heading: 'Merriweather', serif;
}

body {
  font-family: var(--relaxed-font);
  /* ...rest of body... */
}

h1, h2, h3 {
  font-family: var(--relaxed-heading);
}

#prompt-display.prompt-bg-image {
  background-image: var(--prompt-bg-image);
  background-size: cover;
  background-position: center;
  border-radius: var(--border-radius-base);
  position: relative;
  overflow: hidden;
  padding: 2em 0 3em 0;
}

/* Add this for the full-area translucent overlay */
#prompt-display.prompt-bg-image::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  width: 100%; height: 100%;
  background: var(--prompt-overlay-bg);
  border-radius: var(--border-radius-base);
  z-index: 0;
}

/* Ensure all prompt content is above the overlay */
#prompt-display > * {
  position: relative;
  z-index: 1;
}



/* Prompt Symbol: bigger, bolder, gold */
#prompt-symbol {
  font-family: var(--relaxed-heading);
  font-size: 3.2em;
  color: var(--channel-color);
  font-weight: bold;
  text-shadow: 0 0 8px #ffda80b0, 0 1px 0 #fff7da;
  letter-spacing: 0.03em;
  margin-bottom: 0.2em;
}

/* Prevent iOS zoom on input focus */
input, textarea, select, button {
  font-size: 16px !important;
}

/* Modal and button tweaks for mobile */
@media (max-width: 600px) {
  .modal-content {
    max-width: 98vw;
    width: 98vw;
    padding: 1em 0.5em;
    border-radius: 12px;
  }
  .choice-button, button {
    min-height: 44px;
    font-size: 1.1em;
    margin: 0.5em 0;
    width: 100%;
    max-width: 100%;
  }
  .button-container {
    flex-direction: column;
    gap: 0.5em;
  }
}

/* Disable double-tap zoom on buttons */
button, .choice-button {
  touch-action: manipulation;
}


.evaluation-prompt.completed-arc {
  background-color: #222 !important;
  color: #ffe066 !important; /* gold text for trophy, optional */
  border: 2px solid #444 !important;
}
.evaluation-prompt.completed-arc .trophy {
  margin-right: 0.35em;
  font-size: 1.1em;
  vertical-align: middle;
}

#refresh-spinner {
  transition: opacity 0.3s;
}


#support-modal .choice-button,
#support-modal a.choice-button {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  margin-left: 0;
  margin-right: 0;
  margin-bottom: 0.5em;
  padding: 0.6em 0.3em;
  display: block;
  font-size: 1em; 
  text-align: center;
  word-break: break-word;
}
#support-modal .modal-content {
  max-width: 430px;
  width: 95vw;
  max-height: 90vh;       
  overflow-y: auto;        
  box-sizing: border-box;
  padding: 1em 0.7em 0.7em 0.7em;
}

/* Make support and social buttons full width and block, matching others */
.support-btn, .social-btn {
  display: block;
  width: 100%;
  margin: 1em 0 0.4em 0;
  padding: 1em 0.5em;
  background: none;
  color: #ffe066;
  border: none;
  font-size: 1em;
  opacity: 0.8;
  cursor: pointer;
  text-decoration: underline;
  border-radius: 6px;
  text-align: center;
  transition: opacity 0.3s, background 0.3s;
  box-sizing: border-box;
}

.support-btn:hover, .social-btn:hover {
  opacity: 1;
  background: rgba(40, 20, 80, 0.21);
}


#coaching-modal .modal-content {
  box-sizing: border-box;
  padding: 1.2em 0.7em;
  width: 98vw;
  max-width: 540px;
  height: 80vh;
  display: flex;
  flex-direction: column;
}
#coaching-modal iframe {
  width: 100%;
  height: 100%;
  border: none;
  border-radius: 8px;
  min-height: 350px;
}


  </style>
</head>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<body>
  <div class="container">
	<div id="streak-counter" style="font-size:1.1em; margin-bottom:0.5em;"></div>
	<div id="arc-trophy-counter" style="font-size:1.1em; margin-bottom:0.5em;"></div>
	<div id="alignment-rating" style="font-size:1.1em; margin-bottom:0.5em;"></div>
    <div id="prompt-display" class="prompt-bg-image">
      <div id="prompt-symbol" class="glyph-channel"></div>
      <h2 id="prompt-title"></h2>
      <div class="prompt-text-overlay">
        <p id="prompt-text"></p>
        <p id="supplement-text"></p>
      </div>
    </div>


    <div class="button-container">
      <button id="next-prompt" class="choice-button">Next Topic</button>
		<button id="complete-entry" class="choice-button glow-button">Complete This Entry</button>
      <button id="prev-prompt" class="choice-button">Previous</button>
    </div>

     <div class="button-container">  
    <button id="evaluation-button" class="choice-button" style="margin-top: 1em; display: none;">Evaluation</button>
	<button id="save-txt-file" class="choice-button" style="margin-top: 1em;">Save Plain Text File</button> 
   </div>


<div class="button-container">  
<button id="coaching-btn" class="support-btn">If you like the app consider booking a session</button>
<button id="support-btn" class="support-btn">Ways to Support</button>
<button id="connect-social-btn" class="social-btn">Connect on Social Media</button>


   </div>

</div>



    <div id="summary-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>Enter Your Summary</h3>
        <p>Write a one-line summary of what you just wrote about in your journal.</p>
        <textarea id="summary-input" rows="2" placeholder="I just wrote about..."></textarea>
        <div class="modal-buttons">
            <button id="save-summary" class="choice-button">Save</button>
            <button id="cancel-summary" class="choice-button">Cancel</button>
        </div>
    </div>
</div>
  </div>


<div id="reflection-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>üîé Finding Patterns Through Reflection</h3>
        
        <div id="reflection-prompt-container">
            <p>1. Open up your journal and turn to where you wrote about <strong id="reflection-summary-display">[summary one-liner]</strong> on <strong id="reflection-date-display">[date]</strong> <br>
			   2. Read it again; name a pattern or a cycle in your decisions or behavior that connects to this entry. <br>
			   3. Write down what that pattern or cycle is, and the ways you see it showing up in your life.</p>
        </div>
        
        <div class="modal-buttons">
            <button id="prev-reflection" class="choice-button">Previous</button>
            <button id="complete-reflection" class="choice-button">Complete Reflection</button>
            <button id="next-reflection" class="choice-button">Next</button>
        </div>
    </div>
</div>

<div id="evaluation-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>üß≠ Evaluating for Intentional Growth</h3>
        <p>Review and take action on your recent entries.</p>
        <div id="evaluation-prompts">
            </div>
        <div class="modal-buttons">
            <button id="close-evaluation" class="choice-button">Close</button>
        </div>
    </div>
</div>

<div id="initiative-modal" class="modal-overlay">
  <div class="modal-content">
    <h3 id="initiative-title">‚ö°Ô∏è Take Initiative</h3>
    <p id="initiative-prompt-text"></p>
    <div class="initiative-buttons-container" id="initiative-buttons-container">
      <button id="maintain-button" class="choice-button initiative-button">‚òØÔ∏è MAINTAIN (Stay the same)</button>
      <button id="evolve-button" class="choice-button initiative-button">üåø EVOLVE (Lean IN)</button>
      <button id="disrupt-button" class="choice-button initiative-button">‚ùå DISRUPT (Break cycle)</button>
    </div>
    <!-- Reason input, hidden by default -->
    <div id="initiative-reason-section" style="display: none; margin-top: 1.5em;">
      <label for="initiative-reason-input" style="display: block; margin-bottom: 0.5em; font-weight: bold;">
        Why did you choose to take this initiative? Give your reasoning in one line below:
      </label>
      <input type="text" id="initiative-reason-input" placeholder="My reason..." style="width:100%; padding:0.5em; border-radius:8px; border:1px solid #ccc;">
      <button id="save-initiative-reason" class="choice-button" style="margin-top: 1em;">Save Reason</button>
    </div>
    <button id="cancel-initiative-button" class="choice-button" style="margin-top: 20px;">Cancel</button>
  </div>
</div>


<!-- Account for Progress Modal -->
<div id="progress-account-modal" class="modal-overlay">
  <div class="modal-content">
    <h2>üìà Accountability for Progress</h2>
    <p id="progress-account-prompt"></p>
    <textarea id="progress-account-input" placeholder="What have I done to align action/intent..."></textarea>
    <div>
      <button id="progress-maintain-btn">‚òØÔ∏è Maintain (Stay the same)</button>
      <button id="progress-evolve-btn">üåø Evolve (Lean IN)</button>
      <button id="progress-disrupt-btn">‚ùå Disrupt (Break Cycle</button>
    </div>
    <button id="progress-account-cancel-btn">Cancel</button>
  </div>
</div>


<div id="deeper-insight-modal" class="modal-overlay">
  <div class="modal-content">
    <h2>üî¨ Seeking Deeper Insights</h2>
    <p id="deeper-insight-prompt"></p>
    <textarea id="deeper-insight-input" placeholder="What other pattern do you see..."></textarea>
    <div class="modal-buttons">
      <button id="save-deeper-insight" class="choice-button">Save</button>
      <button id="cancel-deeper-insight" class="choice-button">Cancel</button>
    </div>
  </div>
</div>

<div id="welcome-modal" class="modal-overlay">
  <div class="modal-content">
    <!-- Step 1: "How to Use" -->
    <div id="welcome-step-1">
      <h3>Recursive Journal, Learn-by-Doing</h3>
      <p>
        <b>HOW TO USE:</b>
        <ol style="text-align: left;">
          <li>This is a learn-by-doing activity, you can't mess up. Just follow the prompts and trust the process.</li>
          <li>Open this app in your regular browser <strong>AND SAVE IT TO YOUR HOME SCREEN üì≤</strong><br> 
				-Open in regular browser > Tap "Share" > Scroll down to "Save to home screen" <br>    
          <li><strong>Begin</strong> by choosing one of the topics to write in your journal. <strong>Take a minute to read through them till one jumps out.</strong> </li>
          <li>Open your journal and start a fresh new page üìñ </li>
          <li><strong>Copy down the Symbol/Title</strong> you see at the top of your chosen topic (example: "Œî.1 Delta 1: Pattern shift.."), write it at the top of your own journal page, then answer the prompt below it. </li>
          <li><strong>After you write in your journal:</strong> Click "Complete Entry" to log a one-line summary of what you just wrote about üíæ</li>
          <li><strong>Small Steps:</strong> You can close the app after just one activity, then come back any time to do another prompt‚Äì and sometimes pop-up activities too! üéâ</li>
				<br> 
				</strong>NOTE:</strong> Your progress will <strong>NOT</strong> save if you're viewing this inside another app like Instagram.
				<br><strong>Save to home screen to use like any other app</strong>
        </ol>
      </p>
      <div class="modal-buttons">
        <button id="welcome-next" class="choice-button">Next</button>
      </div>
    </div>
    <!-- Step 2: Privacy Notice -->
    <div id="welcome-step-2" style="display:none;">
      <h3>üîê Privacy & Data Notice</h3>
      <p>
        <b>Privacy Notice:</b> All saved entries are stored completely local on your own device. Nothing you do is sent, shared, saved, or tracked elsewhere, so this activity is as private and secure as the device you‚Äôre using.<br>
        <b>Heads up:</b> Clearing your browser cache will erase your entries, since that‚Äôs where your data is saved.<br><br>
      </p>
      <div class="modal-buttons">
        <button id="close-welcome-modal" class="choice-button">Close</button>
    		</div>
     		 <div>
        <label style="display:flex; align-items:center; gap:0.6em;">
 		I don't need to read these instructions anymore <br>
	    ‚ö†Ô∏è Only check this box if you're sure you won't need any of these instructions again
          <input type="checkbox" id="hide-welcome-checkbox">
      </div>
        </label>
      </div>
    </div>
  </div>
</div>

<!-- Social Modal: Place after your other modals -->
<div id="social-modal" class="modal-overlay" style="z-index: 2000;">
  <div class="modal-content" style="max-width: 400px; width: 90vw;">
    <h3 style="margin-bottom:1em;">Connect with Me</h3>
    <p>
      You can find all my socials and other links here:
    </p>
    <a href="https://linktr.ee/brookly.rob" 
       target="_blank" 
       rel="noopener" 
       style="display:block; margin:1em auto; padding:1em 2em; background:#ffe066; color:#222; border-radius:8px; font-weight:bold; text-decoration:none; font-size:1.2em;">
      Open Linktree
    </a>
    <!-- Optional: Add QR code image for mobile -->
    <div style="text-align:center; margin:1em 0;">
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://linktr.ee/brookly.rob"
           alt="Linktree QR Code" style="max-width:150px; border-radius:8px;">
      <div style="font-size:.9em; color:#888;">Scan QR on your phone</div>
    </div>
    <div class="modal-buttons">
      <button id="close-social-modal" class="choice-button">Close</button>
    </div>
  </div>
</div>

<!-- Support Modal -->
<div id="support-modal" class="modal-overlay" style="z-index: 2000;">
  <div class="modal-content" style="max-width: 430px; width: 95vw;">
    <h3 style="margin-bottom:1em;">Ways to Support</h3>
    <p style="text-align:left;">
      This system is a labor of love, all research and development is independent and self-funded. This journal guide app and all other tools and resources for learning Recursive Journaling and the Dreamstate Architecture are private for you to use, ad-free, and zero paywalls‚Äì and it will always be that way!<br><br>
      While I can't put a price tag on personal growth through self-awareness, I sure do appreciate voluntary support received from those who love using these tools. Below are some ways to support the work I do so these resources can continue to improve:
    </p>
    <div style="margin:1.5em 0; display:flex;flex-direction:column;gap:0.8em;">
      <a href="https://brooklyrob.gumroad.com" target="_blank" rel="noopener" class="choice-button" style="background:#ffe066; color:#222;">Gumroad Storefront</a>
      <a href="https://venmo.com/u/brookly_rob" target="_blank" rel="noopener" class="choice-button" style="background:#3d95ce; color:#fff;">Venmo @brookly_rob</a>
      <a href="https://cash.app/$brooklyrob" target="_blank" rel="noopener" class="choice-button" style="background:#00c244; color:#fff;">CashApp $brooklyrob</a>
      <div style="background:rgba(0,0,0,0.12); color:#ffe066; border-radius:8px; padding:0.7em 1em; font-size:0.98em; margin-top:1em;">
        <b>Bitcoin:</b><br>
        <span style="word-break:break-all;">bc1qt6laguu337qq7tl9pencf7jm7mw5s03ad9selz</span>
      </div>
    </div>
    <div class="modal-buttons">
      <button id="close-support-modal" class="choice-button">Close</button>
    </div>
  </div>
</div>


<!-- Coaching Modal -->
<div id="coaching-modal" class="modal-overlay" style="z-index: 2100;">
  <div class="modal-content" style="max-width: 540px; width: 98vw; height: 80vh; display: flex; flex-direction: column;">
    <h3 style="margin-bottom:0.7em;">Personal Development Coaching</h3>
    <div style="flex:1; min-height:350px; margin-bottom:1em;">
      <iframe src="https://www.eachpride.com/personal-development-coaching/" 
        style="width:100%;height:100%;border:none;border-radius:8px;min-height:350px;"
        allowfullscreen></iframe>
    </div>
    <div class="modal-buttons">
      <button id="close-coaching-modal" class="choice-button">Close</button>
    </div>
  </div>
</div>



  <script src="app.js">

if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('service-worker.js');
  });
}
</script>
</body>
</html>
